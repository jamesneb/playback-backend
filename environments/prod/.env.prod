# Production Environment Variables
# High-availability, secure, production configuration

# Application
ENV=prod
LOG_LEVEL=warn
PORT=8080

# AWS Configuration
AWS_REGION=us-east-1
AWS_ACCOUNT_ID=123456789012

# ClickHouse Configuration (High-availability cluster)
CLICKHOUSE_HOST=clickhouse-prod.cluster-xxx.us-east-1.rds.amazonaws.com:9000
CLICKHOUSE_HTTP_HOST=clickhouse-prod.cluster-xxx.us-east-1.rds.amazonaws.com:8123
CLICKHOUSE_DB=telemetry
CLICKHOUSE_USER=${CLICKHOUSE_USER_SECRET}
CLICKHOUSE_PASSWORD=${CLICKHOUSE_PASSWORD_SECRET}
CLICKHOUSE_CLUSTER_NAME=playback_cluster
CLICKHOUSE_REPLICA_COUNT=3

# Redis Configuration (Multi-AZ with failover)
REDIS_HOST=playback-redis-prod.xxx.cache.amazonaws.com:6379
REDIS_PASSWORD=${REDIS_PASSWORD_SECRET}
REDIS_CLUSTER_MODE=true
REDIS_FAILOVER_ENABLED=true

# Kinesis Streams (High-throughput)
KINESIS_STREAM_TRACES=playback-traces-prod
KINESIS_STREAM_METRICS=playback-metrics-prod
KINESIS_STREAM_LOGS=playback-logs-prod
KINESIS_SHARD_COUNT=10

# Lambda Functions (Production)
LAMBDA_TRACE_PROCESSOR=playback-trace-processor-prod
LAMBDA_METRICS_PROCESSOR=playback-metrics-processor-prod
LAMBDA_LOGS_PROCESSOR=playback-logs-processor-prod

# Security (Maximum security)
JWT_SECRET=${JWT_SECRET_PROD}
ENCRYPTION_KEY=${ENCRYPTION_KEY_PROD}
ENABLE_AUTH=true
ENABLE_TLS=true
TLS_CERT_PATH=/etc/ssl/certs/playback-backend.crt
TLS_KEY_PATH=/etc/ssl/private/playback-backend.key

# Monitoring (Comprehensive)
JAEGER_ENDPOINT=http://jaeger-prod.internal:14268/api/traces
PROMETHEUS_ENDPOINT=http://prometheus-prod.internal:9090
ENABLE_DISTRIBUTED_TRACING=true
ENABLE_METRICS_COLLECTION=true
ENABLE_ALERTING=true

# Feature Flags (Stable features only)
ENABLE_DEBUG_ENDPOINTS=false
ENABLE_PROFILING=false
ENABLE_EXPERIMENTAL_FEATURES=false
ENABLE_ADMIN_ENDPOINTS=false

# Performance (Production scale)
MAX_CONCURRENT_REQUESTS=10000
WORKER_POOL_SIZE=50
BATCH_SIZE=2000
CONNECTION_POOL_SIZE=100
READ_TIMEOUT=30s
WRITE_TIMEOUT=30s

# Data Retention (Compliance)
TRACES_RETENTION_DAYS=90
METRICS_RETENTION_DAYS=365
LOGS_RETENTION_DAYS=90

# Rate Limiting (Production traffic)
RATE_LIMIT_RPS=1000
RATE_LIMIT_BURST=2000

# Circuit Breaker
CIRCUIT_BREAKER_ENABLED=true
CIRCUIT_BREAKER_THRESHOLD=50
CIRCUIT_BREAKER_TIMEOUT=60s